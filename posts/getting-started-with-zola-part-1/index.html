<!doctype html><html class="dark light"><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=noml name=robots><meta content="Jordan Glass" name=og:site_name><meta content="I made this blog without writing a single piece of HTML. Here's how" property=og:description><meta content=https://blog.jglass.me/posts/getting-started-with-zola-part-1/ property=og:url><meta content=images/markdown-cover.png property=og:image><meta content="Comparison of a plain Markdown document on the left, and a formatted webpage on the right, both containing the same text. The screenshots are separated by a thick, slanted red stripe." property=og:image:alt><meta content=article property=og:type><meta content=en_GB property=og:locale><title>
         Getting Started with Zola: How I Made This Blog
        
    </title><meta content="Getting Started with Zola: How I Made This Blog" property=og:title><meta content="A blog on Cyber Security, Urban Design & Technology" name=description><meta content=2023-01-28T12:11:00Z name=article:published_time><link href=/icons/favicon.png rel=icon type=image/png><link href=https://blog.jglass.me/fonts.css rel=stylesheet><link title="Jordan Glass" href=https://blog.jglass.me/atom.xml rel=alternate type=application/atom+xml><link href=https://blog.jglass.me/theme/light.css rel=stylesheet><link href=https://blog.jglass.me/theme/dark.css id=darkModeStyle rel=stylesheet><link href=https://blog.jglass.me/main.css media=screen rel=stylesheet><body><div class=content><header><div class=main><a href=https://blog.jglass.me>Jordan Glass</a><div class=socials><a class=social href=https://github.com/Jordan-Glass/> <img alt=github src=/social_icons/github.svg> </a><a class=social href=https://fosstodon.org/@JordanGlass rel=me> <img alt=mastodon src=/social_icons/mastodon.svg> </a><a class=social href=https://www.linkedin.com/in/jordan-g-b26288261/> <img alt=linkedin src=/social_icons/linkedin.svg> </a><a class=social href=/atom.xml> <img alt=rss src=/social_icons/rss.svg> </a></div></div><nav><a href=/posts style=margin-left:.7em>/posts</a><a href=/code style=margin-left:.7em>/code</a><a href=/contact style=margin-left:.7em>/contact</a><a href=/about style=margin-left:.7em>/about</a> | <a href=javascript:void(0) id=dark-mode-toggle onclick=toggleTheme()> <img id=sun-icon src=/feather/sun.svg style=filter:invert(1)> <img id=moon-icon src=/feather/moon.svg> </a><script src=https://blog.jglass.me/js/themetoggle.js></script></nav></header><main><article><div class=title><div class=page-header>Getting Started with Zola: How I Made This Blog<span class=primary-color style=font-size:1.6em>.</span></div><div class=meta> Posted on <time>28 January 2023</time><br> By Jordan Glass</div></div><section class=body><p>Zola is a Static Site Generator (SSG) that converts text you write in Markdown documents into a website that can be served on the Internet. Being a static site, it's simple and doesn't require a database behind it to serve files from - and, in using Markdown, text is formatted in the same way as note-taking apps such as Notion and Obsidian, meaning you don't need to learn HTML syntax to start writing.<p><em>In theory</em> that's simple, but figuring out how to make Zola build a nice-looking, themed site from those Markdown files takes a little more understanding. You might also want to use Git to track the changes you make, and publish the site automatically using a platform like GitHub or Cloudflare Pages.<p>In this post I'll share how I made this blog, from installing Zola, to adding a theme, and building a site you can see in your browser - as well as learning the basics of Git in the process.</p><span id=continue-reading></span><p><em>The installation and workspace initialisation steps below were carried out in Zola version 0.15.3, while the rest were done in the current 0.16.1 - but they shouldn't have changed since then.</em><p><em>You can find guides for using Markdown across the Internet - <a href=https://github.com/marktext/marktext/blob/master/docs/MARKDOWN_SYNTAX.md>here's one</a> by another note-taking app, MarkText, and <a href=https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet>here's another</a> for a browser extension called Markdown Here. You can visit the Zola website <a href=https://www.getzola.org/>here</a> to find out more about how it works and what it does.</em><h1 id=installing-zola>Installing Zola</h1><p>How you install Zola depends on where you want to install it - there are <a href=https://www.getzola.org/documentation/getting-started/installation/>lots of different options</a> for Linux distributions as well as Windows, macOS and Docker. There's no specific version for Ubuntu - or, therefore, Pop!_OS - so I chose to install Zola as a Snap package. The Snap Store provides <a href=https://snapcraft.io/zola>nice, simple instructions</a> for installing it on all the major distributions.<p>I updated my system using the Pop!_Shop and rebooted, then installed Snap using<pre style=background:#0f1419;color:#bfbab0><code><span>sudo apt install snapd
</span></code></pre><p>Then, after logging out and in again, I installed Zola using<pre style=background:#0f1419;color:#bfbab0><code><span>sudo snap install zola --edge
</span></code></pre><p><em>(If you also install using Snap, you might have to omit the <code>--edge</code> flag if and when Zola is made available through the Stable channel - check the <a href=https://www.getzola.org/documentation/getting-started/installation/>installation instructions</a> for the most up-to-date command, or see the <a href=https://snapcraft.io/zola>Snap Store page</a>.)</em><p>In my case it spent a while setting up "security profiles", but sped through the rest of the steps relatively quickly. Back at the command prompt, the <code>zola</code> command shows that it's been installed successfully, listing the commands it supports.<pre style=background:#0f1419;color:#bfbab0><code><span>zola 0.15.3
</span><span>Vincent Prouillet &LThello@vincentprouillet.com>
</span><span>A fast static site generator with everything built-in
</span><span>
</span><span>USAGE:
</span><span>    zola [OPTIONS] &LTSUBCOMMAND>
</span><span>
</span><span>FLAGS:
</span><span>    -h, --help       Prints help information
</span><span>    -V, --version    Prints version information
</span><span>
</span><span>OPTIONS:
</span><span>    -c, --config &LTconfig>    Path to a config file other than config.toml in the root of project
</span><span>    -r, --root &LTroot>        Directory to use as root of project [default: .]
</span><span>
</span><span>SUBCOMMANDS:
</span><span>    build    Deletes the output directory if there is one and builds the site
</span><span>    check    Try building the project without rendering it. Checks links
</span><span>    help     Prints this message or the help of the given subcommand(s)
</span><span>    init     Create a new Zola project
</span><span>    serve    Serve the site. Rebuild and reload on change automatically
</span></code></pre><p>Now, let's configure Zola.<h1 id=initialising-a-workspace>Initialising a workspace</h1><p>A Zola project directory stores a site's blog posts, theme, and all the other files Zola needs to work. Later, this folder can be sent to a Git repository from which it can be built and hosted online.<p>First, I made a directory dedicated to Zola with <code>mkdir</code> (make directory) and moved into it with <code>cd</code> (change directory):<ol><li><code>mkdir Zola</code><li><code>cd Zola</code></ol><p>Inside it, I created a directory to be used to hold all the files associated with this specific site. I chose to nest this folder inside a dedicated Zola one in case I make any more Zola sites in the future.<ol><li><code>mkdir blog</code><li><code>cd blog</code></ol><p><em>(You can do these steps in a graphical file manager, of course, but I was already in the terminal after installing Zola.)</em><p>Now I have a folder for my site, I can prompt Zola to "initialise" it and add all the folders and files it needs automatically using <code>zola init</code>. It'll ask a few basic questions about the site. If you don't know what to choose yet, press Enter to accept the default options - they can all be changed later.<p><em>(For the yes/no options, the default is captialised: for example, the default setting for Sass compilation is No.)</em><pre style=background:#0f1419;color:#bfbab0><code><span>Welcome to Zola!
</span><span>Please answer a few questions to get started quickly.
</span><span>Any choices made can be changed by modifying the `config.toml` file later.
</span><span>> What is the URL of your site? (https://example.com): https://blog.jglass.me
</span><span>> Do you want to enable Sass compilation? [Y/n]: 
</span><span>> Do you want to enable syntax highlighting? [y/N]: Y
</span><span>> Do you want to build a search index of the content? [y/N]: 
</span><span>
</span><span>Done! Your site was created in /home/MY_USERNAME/Zola/blog
</span><span>
</span><span>Get started by moving into the directory and using the built-in server: `zola serve`
</span><span>Visit https://www.getzola.org for the full documentation.
</span></code></pre><p>Now that's done, using <code>ls</code>, I can see all the files and folders Zola just created:<pre style=background:#0f1419;color:#bfbab0><code><span>config.toml  content  sass  static  templates  themes
</span></code></pre><p>Each of them performs a different function.<ul><li><code>config.toml</code> holds the configuration options for the blog, including its name, description and theme - and the ones it prompted me to set above after running <code>zola init</code>.<li><code>content</code> contains the pages to serve on the site, written in Markdown. You can create sub-folders inside this folder to add more sections to your site.<li><code>saas</code> is for CSS styling of your pages. I'll be using themes, so I can ignore this folder.<li><code>static</code> holds any type of file - such as images or documents - that you want to host on your site. You can link to them from your blog posts.<li><code>templates</code> can be used to automatically generate particular pages in a set, consistent way. Like <code>sass</code>, you can ignore this if you're using a theme.<li><code>themes</code> contains the theme to be used to style the blog. You can have more than one stored here - Zola will only use the one you tell it to.</ul><h1 id=adding-a-theme>Adding a theme</h1><p>Files in the <code>templates</code> and <code>sass</code> folders define how the posts I write in Markdown will look when the blog is created. Pre-made themes make the process of styling your blog easier - themes, themselves, contain template and <code>sass</code> files that Zola can use instead if, like me, you don't want to make your own.<p>The Zola website lists several themes - I shortlisted <a href=https://www.getzola.org/themes/anpu/>Anpu</a>, <a href=https://www.getzola.org/themes/zola-paper/>zola-paper</a>, <a href=https://www.getzola.org/themes/even/>even</a>, <a href=https://www.getzola.org/themes/boring/>boring</a>, <a href=https://www.getzola.org/themes/simple-dev-blog/>simple-dev-blog</a> and <a href=https://www.getzola.org/themes/anatole-zola/>anatole-zola</a>.<p>I chose <a href=https://www.getzola.org/themes/apollo/>Apollo</a> because it combines a visual style I like with good mobile compatibility. The <em>boring</em> theme looks great too, but doesn't seem to adapt to smaller screens.<p>The recommended way to install the Apollo theme is with Git Submodules - which mean that the theme files exist as normal on my system, but link to the repository I get them from in the Git repo. Here's how it looks in the repository for this site:<p><img alt="In the themes folder in this blog's GitHub repository, there is a folder linked to the Apollo theme repository. It reads: apollo @ b0ad81c. The latest commit to the themes folder is titled: Initial commit." async src=images/submodule.png width=406px><p>Adding the theme as a submodule requires initialising the folder as a Git repository. This can be done by running <code>git init</code> in the <code>Zola\blog</code> folder. This will give a warning about the branch name being the default, <code>master</code> - I changed it to <code>main</code> with <code>git branch -m main</code>.<p>Now, as listed in Apollo's installation instructions, the theme files can be added with <code>git submodule add https://github.com/not-matthias/apollo themes/apollo</code> - which gets the files from the repository on <code>github.com</code> and adds them to a new <code>apollo</code> folder within the <code>themes</code> folder. It also creates a new file, <code>.gitmodules</code>, to list the submodules you've added.<p>The Apollo theme comes with some sample content to get you started. You can copy it from the theme's folder to the <code>content</code> folder with <code>cp -r themes/apollo/content .</code>.<p><em>(Note the</em> <code>.</code> <em>at the end! This refers to the current folder and, in practice, means that the sample content folder included in the Apollo theme will be merged with the one Zola created earlier.)</em><p>Remember that other themes might be installed in a different way, and might not have any sample content to use. Check any documentation for the theme you choose to make sure. Looking at the Git repository of a site using the theme you've chosen might be useful too, so you can see how it's used in practice. <a href=https://github.com/ssiyad/ssiyad.github.io>Here's one</a> by the creator of the <em>boring</em> theme I mentioned above.<p>Just adding the theme files doesn't mean that Zola will use them - it needs to be enabled in the site's configuration settings. Open the <code>config.toml</code> file in a text editor - I use <code>nano config.toml</code> in the terminal - and add the following line <strong>above any sections</strong> like <code>[markdown]</code> or <code>[extra]</code>:<pre style=background:#0f1419;color:#bfbab0><code><span>theme = "apollo"
</span></code></pre><p>The name you specify here is the same as the name of the folder in <code>themes</code>.<p>If, like me, you get any errors like <code>Tried to render cards.html but the template wasn't found</code>, the theme isn't loading and you need to check if you have this line in your <code>config.toml</code> and, if you do, it's before any sections.<h1 id=configuration>Configuration</h1><p><code>config.toml</code> holds other configuration options too, including the ones Zola prompted me to set when I ran <code>zola init</code> earlier. I'll need to change a few of these options before Zola will build a site.<p>In the <code>[extra]</code> section, add definitions for <code>socials</code> and <code>menu</code>, which define the social profile and page links that appear in the header of the site. Each entry needs a name and a URL to link to, and socials also needs an icon (which the Apollo theme supplies for you - you just need to define which to use). If you get errors that look like either of these two lines, you need to check that you've defined these lists correctly and that they're under the <code>[extra]</code> section marker.<ul><li>"Variable <code>config.extra.socials</code> not found in context while rendering 'partials/nav.html'"<li>"Variable <code>config.extra.menu</code> not found in context while rendering 'partials/nav.html'"</ul><p><em>You can see how the <code>menu</code> and <code>socials</code> lists are formatted, and check the rest of my site's configuration, on <a href=https://github.com/Jordan-Glass/blog.jglass.me/blob/main/config.toml>my GitHub repo</a>. You might not need to add them if you're using a different theme.</em><p>I also added some more configuration parameters - including defining my site's <code>title</code> and enabling Atom feed generation by setting <code>generate_feed</code> to <code>true</code>. With a feed available, readers can subscribe to my blog and have my blog posts delivered to their feed reader without needing them to remember to check my blog, or requiring me to set up an email newsletter.<p>The feed will be hosted at <code>blog.example.com/atom.xml</code>, and you can find a link to mine in the header above alongside links to my GitHub, Mastodon and LinkedIn profiles.<h1 id=serving-the-site>Serving the site</h1><p>With the configuration, theme and example content in place, the site is ready to be built. The <code>zola serve</code> command builds the site and hosts it locally for you to view. Most of the changes you make will prompt Zola to re-build the site to apply them - if it doesn't, use <strong>CTRL + C</strong> in your terminal to stop the server and run <code>zola serve</code> to start it again. If you get a "Segmentation Fault" error, I found that rebooting my system cleared it.<p><em>(If you want to include posts you've set as drafts, append the <code>--drafts</code> flag so your command is <code>zola serve --drafts</code>.)</em><p>Open <a href=http://127.0.0.1:1111/>http://127.0.0.1:1111/</a> in your browser to see what your site looks like.<h1 id=committing-changes>Committing changes</h1><p>Earlier, I used Git to add the site's theme as a <em>submodule</em>. Now, I can use it to track the changes I make to my site's files and push the site to a remote repository. I'll send mine to GitHub, where it will be built and hosted by Cloudflare Pages.<p>Using information in <code>man gittutorial</code> I set my email with <code>git config --global user.email &LTmyemail>[@]users.noreply.github.com</code> and name with <code>git config --global user.name "Jordan Glass"</code> to ensure my commits are associated with me. Instead of using a personal address, I've used the one provided to me by GitHub, which you can find by checking "Keep my email address private" in your <a href=https://github.com/settings/emails>email preferences</a>.<p>Git works, broadly, by <code>add</code>-ing and <code>commit</code>-ting the changes you make to files. The <code>commit</code> command makes a record of the changes you make to files, but you need to <code>add</code> files to include them in commits.<p>The first time, in the root of the <code>blog</code> directory, run <code>git add .</code> to add all the files in the blog. The <code>.</code> refers to the current directory, and Git will add all the files in all the folders below this one when using this command. Then, use <code>git commit</code> to record the changes. It'll open your text editor to ask for some information. The first line is typically a short summary of your changes, no more than fifty characters - optionally, you can add a blank line followed by a longer description below it if you want to add more detail.<p><em><a href=https://github.com/Jordan-Glass/blog.jglass.me/commit/554a0211ffdcc633f2a3f657d9a3c3231dd35525>Here's</a> an example of a commit on this blog's repository. The short summary is "Update config.toml", and I've included a longer description below it to say that I added a link to by LinkedIn account. <a href=https://github.com/Jordan-Glass/blog.jglass.me/commit/8876bdfb2d5983a166b56559bfe10b1f6f08bdaf>Here's</a> another commit, this time without a longer description.</em><p>After this first time, changes are added in one of two ways:<ul><li><code>git add path/to/file</code> to add the specific file you've changed to your commit, giving you more control over what happens. This allows you to use <code>git diff --cached</code> to see a summary of your changes - press enter or space until <code>END</code> is highlighted then press <code>q</code> to exit - before you commit like before with <code>git commit</code>.<li>Add and commit in a single command with <code>git commit -a</code>. You can append <code>--dry-run</code> to preview what happens without actually carrying it out.</ul><p>At any point, you can use <code>git status</code> to check what's happening. This will list files you've created, deleted or modified but not added yet, as well as files you've added but not committed. It also shows you if your local repository is ahead of, or behind, your remote one - see "Pushing changes" below.<p><em>(You still need to <code>add</code> files you've deleted - which means you'll need to run <code>git add</code> followed by the path to the file you've removed. You can use <code>git status</code> to list any missing files if you forget where they were located.)</em><p>Ideally, you would only change one file between each commit. This way, if you need to revert a change, you only need to revert <em>one change</em>, not several of them! See <a href=https://christitus.com/using-github-correctly/#using-github-properly>this explanation</a> for why that can be helpful.<p>I didn't do this step until after I'd done the Customisation step below, so to maintain one-change-per-commit and keep a record of my changes, I restored the folder to how it was before and restored the files I'd changed one-by-one, committing after each. You shouldn't have to if you do this step first - just make sure <code>zola serve</code> isn't running when you commit, or add <code>public/</code> to your <code>.gitignore</code> (see mine <a href=https://github.com/Jordan-Glass/blog.jglass.me/blob/main/.gitignore>here</a>).<h1 id=customisation>Customisation</h1><p>Although I like the Apollo theme the best, there were a few aspects of it I wanted to change. Zola lets you change how themes work by "extending" them - so, if the aspect of the theme is handled by a file in <code>blog/themes/apollo/templates</code>, you can extend it by copying it into <code>blog/templates</code> and adjusting this new file as needed.<p>You can also override only part of a file, as detailed <a href=https://www.getzola.org/documentation/themes/extending-a-theme/#overriding-a-block>here</a>.<ol><li>Firstly, I extended the <code>404.html</code> template to remove the <code>:(</code> face from the "Page not found" message.<li>Next, I extended the <code>macros.html</code> template to change how dates are formatted, as well as add an updated tag and date if a post was updated, and change how drafts are tagged from <code>DRAFT</code> to <code>(Draft)</code>. See information on date-time codes <a href=https://help.gnome.org/users/gthumb/stable/gthumb-date-formats.html.en>here</a>.<li>Finally, I extended <code>nav.html</code> to add the <code>rel="me"</code> attribute to Mastodon social links, with some help formatting from <a href=https://kb.novaordis.com/index.php/Helm_Template_If/Else>here</a>. This enables the link to this blog to appear as verified on the platform.</ol><p>You can see these three templates in the <code>templates</code> folder in <a href=https://github.com/Jordan-Glass/blog.jglass.me/tree/main/templates>my GitHub repo</a>.<h1 id=pushing-changes>Pushing changes</h1><p>So far, the changes have only taken effect locally on my machine. There are a few steps to take to get those changes on to a GitHub repository, so the site can be built and served on the Internet.<ul><li>Firstly, create a new GitHub repository on the GitHub website. You'll probably want to ensure it's set to Private until you're ready to publish your site.<li>Install <code>gh</code> - I did this with <code>sudo apt install gh</code> but it's available for <a href=https://github.com/cli/cli#installation>other platforms</a> as well - and login with <code>gh auth login</code>. It'll prompt you for some details and decisions. If you choose the SSH option you'll need an SSH key to authorise with - <a href=https://docs.github.com/articles/generating-an-ssh-key/>this page</a> has some guidance on what this is and how to generate one. When it's done you should see the key in <a href=https://github.com/settings/keys>your account settings</a>.<li>Because the repo is empty, it contains some helpful commands for linking the repository that exists on my machine to this new, remote one. The command I used was <code>git remote add origin git@github.com:Jordan-Glass/blog.jglass.me.git</code>.<li>Now I can <code>push</code> my local repository to the GitHub site using <code>git push -u origin main</code>. This will upload everything in my local repository to the remote one defined in the <code>add origin</code> command above. You can use <code>push</code> even after using <code>add</code> and <code>commit</code> several times, and each commit will remain separate once they've been uploaded. You can now see a list of your commits on the GitHub site - <a href=https://github.com/Jordan-Glass/blog.jglass.me/commits/main>here's</a> a list of mine. From now on, you can use <code>git push</code> to send your changes to GitHub.</ul><h1 id=writing-a-post>Writing a post</h1><p>Now it's time to write your first post! Posts are written as Markdown files, and need some metadata at the start. This is called "front matter", and defines the post's title and date, as well as some other parameters. The full list of attributes you can add is available <a href=https://www.getzola.org/documentation/content/page/#front-matter>here</a>.<p>These settings need to be enclosed in three plus symbols above and below, like this:<pre style=background:#0f1419;color:#bfbab0><code><span>+++
</span><span>title = "Getting Started with Zola: How I Made This Blog"
</span><span>date = 2000-01-01
</span><span>draft = true
</span><span>+++
</span><span>Your post goes here...
</span></code></pre><p>Markdown itself supports lots of features like tables, code blocks, maths expressions and more - but your theme might not support all of them. Check your theme's documentation or sample content pages (like <a href=https://not-matthias.github.io/apollo/posts/markdown/>this one</a>) to see what it supports, or try adding something and checking your post using <code>zola serve</code>.<p>Consider that the text editor you use might format your Markdown files in unexpected ways, especially if it's graphical and lets you use keyboard shortcuts such as CTRL+I to italicise text. As an example, in writing this post, the editor I used added escape characters and brackets to the links I added:<pre style=background:#0f1419;color:#bfbab0><code><span>\[Here's\](&LThttps://www.getzola.org/documentation/deployment/overview/>)
</span></code></pre><p>When it should've looked like this:<pre style=background:#0f1419;color:#bfbab0><code><span>[Here's](https://www.getzola.org/documentation/deployment/overview/)
</span></code></pre><p>The error caused the link to the Zola documentation below to be formatted incorrectly, so you might want to check your post in a simpler program like Notepad++ to make sure it adheres to the Markdown syntax if you find problems with how it appears on your Zola site.<p><img alt="A screenshot of a paragraph in this blog post. A hyperlink that should read: Here's, is broken and instead appears as plaintext within square brackets, with a preceding backslash. The link itself appears after it in standard brackets." async src=images/link.png width=985px><h1 id=hosting-it-on-the-internet>Hosting it on the Internet</h1><p>The blog won't be of much use if no-one else can see it. Services like GitHub Pages and Cloudflare Pages support building Zola sites directly from Git repositories. <a href=https://www.getzola.org/documentation/deployment/overview/>Here's</a> Zola's documentation on deployment.<p>I plan on using Cloudflare Pages - and I'll publish another post on this blog detailing that process another time.<hr><ul><li><a href=https://github.com/Jordan-Glass/blog.jglass.me/tree/main/content/posts/getting-started-with-zola-part-1/index.md>View post source</a></ul></section></article></main></div>